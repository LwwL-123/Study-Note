### Golang空结构体作用

答：节省内存

1. map。
   value是空结构体，构造集合。

2. 通道。
   只传递信号，不传递数据。

3. 切片。
   不管切片多长，都不会占用空间。

4. 仅包含方法的结构体。
   不用指针，节约空间。

5. 最后零字段。
   final zero field：结构体里的最后一个属性如果是空结构体，会当成1个字节处理。如果结构体嵌套的全是空结构体，还是0个字节。



### golang map 判断key是否存在

```go
if _, ok := map[key]; ok {
    // 存在
}
 
if _, ok := map[key]; !ok {
    // 不存在
}
```



### 各包init的执行顺序

- 如果一个包导入了其他包，则首先初始化导入的包。
- 然后初始化当前包的常量。
- 接下来初始化当前包的变量。
- 最后，调用当前包的 init() 函数。

![在这里插入图片描述](https://gitee.com/lzw657434763/pictures/raw/master/Blog/20211223163615.png)

```
import --> const --> var --> init()
```

- 一个包可以有多个 init 函数 (在单个文件中或分布在多个文件中)，并且按照它们呈现给编译器的顺序被调用。

- 一个包将只初始化一次，即使它是从多个包导入的。

